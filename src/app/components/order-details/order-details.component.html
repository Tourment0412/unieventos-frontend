<div *ngIf="order" class="card mb-4">
  <div class="card-header">
    <h5 class="mb-0">Detalles de la Orden</h5>
  </div>
  <div class="card-body">
    <div class="row">
      <div class="col-md-6">
        <div class="card shadow-sm mb-3">
          <div class="card-header bg-light">
            <h6 class="mb-0">Información del Cliente:</h6>
          </div>
          <div class="card-body">
            <p><strong>Cliente:</strong> {{ nombreCliente }}</p>
            <p><strong>Fecha de la Orden:</strong> {{ order.orderDate | date }}</p>
            <p><strong>Estado:</strong> {{ order.status ? order.status : 'No Pagada' }}</p>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="card shadow-sm mb-3">
          <div class="card-header bg-light">
            <h6 class="mb-0">Detalles del Pago:</h6>
          </div>
          <div class="card-body">
            <p><strong>Tipo de Pago:</strong> {{ order.paymentType ? order.paymentType : 'N/A' }}</p>
            <p><strong>Fecha de Pago:</strong> {{ order.paymentDate ? (order.paymentDate | date) : 'N/A' }}</p>
            <p><strong>Total:</strong> ${{ order.total.toFixed(2) }}</p>
            <p><strong>Cupón:</strong> {{ coupon? coupon.name : 'Ninguno' }}</p>
          </div>
        </div>
      </div>
    </div>

    <h6 class="mt-4">Detalles de los Ítems:</h6>
    <div class="table-responsive">
      <table class="table table-striped table-bordered">
        <thead class="thead-dark">
          <tr>
            <th>Evento</th>
            <th>Ubicación</th>
            <th>Cantidad</th>
            <th>Precio Unitario</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of order.items">
            <td>{{ eventos[item.eventId] || 'Cargando...' }}</td>
            <td>{{ item.locationName }}</td>
            <td>{{ item.quantity }}</td>
            <td>${{ item.price.toFixed(2) }}</td>
            <td>${{ (item.price * item.quantity).toFixed(2) }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
